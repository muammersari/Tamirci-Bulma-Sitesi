#pragma checksum "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Mesajlar_Chat), @"mvc.1.0.view", @"/Views/Mesajlar/Chat.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec0", @"/Views/Mesajlar/Chat.cshtml")]
    public class Views_Mesajlar_Chat : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IList<Tamirci_Bul.Models.Mesajlar>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/signalr/signalr.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/Style.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/twitter-bootstrap/css/bootstrap.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/twitter-bootstrap/js/bootstrap.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/jquery/jquery.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/mesajlar.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
  
    ViewData["Title"] = "Chat";
    Layout = "~/Views/Shared/_LayoutUstMenu.cshtml";
    string kul_id = "";

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec05362", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.7/signalr.min.js\"></script>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec06508", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec07622", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec08736", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec09775", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<div class=""alert alert-warning"" id=""durummesajlari"" style=""display:none; position:absolute; width:50%; left:25%; top:1%;""></div>
<div class=""container-fluid"" style=""height:auto;"">
    <div class=""row justify-content-center h-100"">
        <div id=""div_mesaj_alani"" class=""col-12 col-sm-10 col-md-8 col-lg-6"" style=""height:auto; max-height:100%;"">
            <div id=""bosmesaj"" style=""display:none; width:100%; margin-top:20%; font-size:20px; color:darkred;"">Mesajınız Bulunmuyor</div>

");
#nullable restore
#line 19 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
             if (Model.Count() == 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div id=\"bosmesaj1\" style=\"width:100%; margin-top:20%; font-size:20px; color:darkred;\">Mesajınız Bulunmuyor</div>\r\n");
#nullable restore
#line 22 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <ul class=\"list-group h-auto overflow-auto kaydirma_cubugu\" id=\"ul_mesaj\" style=\"max-height:100%; padding:5px;\">\r\n");
#nullable restore
#line 26 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                     foreach (var item in Model)
                    {
                        if (ViewBag.role == "kullanici")
                        {
                            kul_id = item.tamirciid.ToString();

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <li class=\"mb-2 border-bottom\"");
            BeginWriteAttribute("id", " id=\"", 1679, "\"", 1702, 2);
            WriteAttributeValue("", 1684, "li+", 1684, 3, true);
#nullable restore
#line 31 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 1687, item.tamirciid, 1687, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                <div class=\"d-flex \">\r\n                                    <div class=\"p-2 flex-grow-1 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 1838, "\"", 1858, 1);
#nullable restore
#line 33 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 1843, item.tamirciid, 1843, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"btnicerikgetir(this.id)\" style=\"text-align:left;\">\r\n                                        <h6>");
#nullable restore
#line 34 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                       Write(item.karsi_taraf_isim);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h6>\r\n                                        <p>\r\n");
#nullable restore
#line 36 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                             if (item.kullanici_goruntulenmeyen_mesaj_sayisi.ToString() != "0")
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <span class=\"badge badge-pill badge-primary\"");
            BeginWriteAttribute("id", " id=\"", 2291, "\"", 2323, 2);
            WriteAttributeValue("", 2296, "mesajsayisi+", 2296, 12, true);
#nullable restore
#line 38 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 2308, item.tamirciid, 2308, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 38 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                                                                                                         Write(item.kullanici_goruntulenmeyen_mesaj_sayisi);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 39 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <span class=\"badge badge-pill badge-primary\"");
            BeginWriteAttribute("id", " id=\"", 2614, "\"", 2646, 2);
            WriteAttributeValue("", 2619, "mesajsayisi+", 2619, 12, true);
#nullable restore
#line 42 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 2631, item.tamirciid, 2631, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></span>\r\n");
#nullable restore
#line 43 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <span");
            BeginWriteAttribute("id", " id=\"", 2753, "\"", 2779, 2);
            WriteAttributeValue("", 2758, "durum+", 2758, 6, true);
#nullable restore
#line 44 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 2764, item.tamirciid, 2764, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"color:red;\"> çevrimdışı</span>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"p-2 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 2975, "\"", 2995, 1);
#nullable restore
#line 47 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 2980, item.tamirciid, 2980, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"btnicerikgetir(this.id)\"><span class=\"btn btn-success\" style=\"font-size:small;\">Sohbeti Aç</span></div>\r\n                                    <div class=\"p-2 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 3176, "\"", 3196, 1);
#nullable restore
#line 48 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 3181, item.tamirciid, 3181, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"mesajsil(this.id)\"><span class=\"btn btn-danger\" style=\"font-size: small;\">Sil</span></div>\r\n                                </div>\r\n");
            WriteLiteral("                            </li>\r\n");
#nullable restore
#line 52 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                        }
                        else
                        {
                            kul_id = item.tamirciid.ToString();

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <li class=\"mb-2 border-bottom\"");
            BeginWriteAttribute("id", " id=\"", 3669, "\"", 3694, 2);
            WriteAttributeValue("", 3674, "li+", 3674, 3, true);
#nullable restore
#line 56 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 3677, item.kullaniciid, 3677, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                <div class=\"d-flex bd-highlight\">\r\n                                    <div class=\"p-2 flex-grow-1 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 3842, "\"", 3864, 1);
#nullable restore
#line 58 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 3847, item.kullaniciid, 3847, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"btnicerikgetir(this.id)\" style=\"text-align:left;\">\r\n                                        <h6>");
#nullable restore
#line 59 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                       Write(item.karsi_taraf_isim);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h6>\r\n                                        <p>\r\n");
#nullable restore
#line 61 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                             if (item.tamirci_goruntulenmeyen_mesaj_sayisi.ToString() != "0")
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <span class=\"badge badge-pill badge-primary\"");
            BeginWriteAttribute("id", " id=\"", 4295, "\"", 4329, 2);
            WriteAttributeValue("", 4300, "mesajsayisi+", 4300, 12, true);
#nullable restore
#line 63 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 4312, item.kullaniciid, 4312, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 63 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                                                                                                           Write(item.tamirci_goruntulenmeyen_mesaj_sayisi);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 64 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <span class=\"badge badge-pill badge-primary\"");
            BeginWriteAttribute("id", " id=\"", 4618, "\"", 4652, 2);
            WriteAttributeValue("", 4623, "mesajsayisi+", 4623, 12, true);
#nullable restore
#line 67 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 4635, item.kullaniciid, 4635, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></span>\r\n");
#nullable restore
#line 68 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <span");
            BeginWriteAttribute("id", " id=\"", 4759, "\"", 4787, 2);
            WriteAttributeValue("", 4764, "durum+", 4764, 6, true);
#nullable restore
#line 69 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 4770, item.kullaniciid, 4770, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"color:red;\">çevrimdışı</span>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div class=\"p-2 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 4982, "\"", 5004, 1);
#nullable restore
#line 72 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 4987, item.kullaniciid, 4987, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"btnicerikgetir(this.id)\"><span class=\"btn btn-success\" style=\"font-size:small;\">Sohbeti Aç</span></div>\r\n                                    <div class=\"p-2 bd-highlight\"");
            BeginWriteAttribute("id", " id=\"", 5185, "\"", 5207, 1);
#nullable restore
#line 73 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 5190, item.kullaniciid, 5190, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" onclick=\"mesajsil(this.id)\"><span class=\"btn btn-danger\" style=\"font-size: small;\">Sil</span></div>\r\n                                </div>\r\n");
            WriteLiteral("                            </li>\r\n");
#nullable restore
#line 77 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
                        }
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                </ul>\r\n");
#nullable restore
#line 80 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
        </div>
        <div id=""div_mesaj_icerigi"" class=""col-12 col-sm-10 col-md-8 col-lg-6 w-100 mt-3"" style=""height:auto; display:none;"">
            <div class=""table-bordered border-success rounded shadow-sm shadow"">
                <div style=""width:100%; height:auto;"" class=""mb-1 border-bottom bg-success d-flex justify-content-end"">
                    <div class=""p-2 bd-highlight btn bi-x shadow-none"" id=""mesajkapat""");
            BeginWriteAttribute("name", " name=\"", 5995, "\"", 6009, 1);
#nullable restore
#line 86 "C:\Users\Muammer\source\repos\Tamirci_Bul\Tamirci_Bul\Views\Mesajlar\Chat.cshtml"
WriteAttributeValue("", 6002, kul_id, 6002, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"font-size:200%; color:darkred;\"></div>\r\n");
            WriteLiteral(@"                </div>
                <ul class=""list-group kaydirma_cubugu"" id=""ul_mesaj_içerik"" style=""overflow-y:scroll; height:70%; width:100%;""></ul>
                <div class=""w-100 bg-success mt-1"" style=""height:auto;"">
                    <table class=""w-100"">
                        <tr class=""w-100"">
                            <td class=""w-100 border-0 p-1"">
                                <input type=""text"" class=""form-control rounded"" id=""mesaj_icerik"" placeholder=""Mesaj Yaz"" aria-label=""default"" />
                            </td>
                            <td class=""w-auto border-0 p-1""><button class=""btn bi-cursor-fill w-auto shadow-none"" id=""btn_msj_gonder"" style=""color:khaki; font-size:1.8rem;""></button></td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
    </div>
");
            WriteLiteral("</div>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "5c08b1a8d2ac8a10a01a82b19ec4bb09a579bec026472", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script>
    // localStorage.setItem(""konusuyormu"", ""hayir""); // sayfa
    localStorage.setItem(""chat_acikmi"", ""evet""); // sayfa açıldığında evet yapıyoruz
    localStorage.setItem(""konusuyormu"", ""hayir""); // kullanıcı mesajlaşıyor ise evet yapıyoruz
    localStorage.setItem(""mesajgeldimi"", ""hayir""); // burası kayıtlı olmayan yeni mesaj geldiğinde sayfayı yenilemek için  evet yapılacak


    const connection = new signalR.HubConnectionBuilder().withUrl(""/chathub"").build();     //burada signalR ın connection bağlantsını oluşturuyoruz ve start başlatıyoruz.
    connection.start();

    const _nickname = localStorage.getItem(""_id""); //siteye giriş yapan kişinin id sini alıyoruz

    function btnicerikgetir(karsi_taraf_id) {
        localStorage.setItem(""konusuyormu"", ""evet""); // kullanıcı mesajlaşıyor ise evet yapıyoruz
        connection.invoke(""GetNickName"", _nickname, karsi_taraf_id).catch(error => console.log(error)); //burada kullanıcıyı mesajı açtığı zaman kendi nickname ini ve karşı tarafı");
            WriteLiteral(@"n nickname ini sisteme ekliyoruz
        mesajicerigigetir(karsi_taraf_id); //kullanıcı sayfayı ilk açtığın da tüm mesajlarını getiriyoruz
        document.getElementById(""mesajsayisi+"" + karsi_taraf_id + """").innerHTML = """";
    }

    connection.on(""clientJoined"", (nickName, alici_nickname) => { // burada kullanıcı mesajı açtığı zaman kimin mesajını açtıysa o kişiye çevrimiçi olarak görünüyor
        if (_nickname.toString() == alici_nickname.toString()) { // sadece tıklanan alıcıda çevrimiçi gösteriyoruz
            document.getElementById(""durum+"" + nickName + """").innerHTML = ""çevrimiçi"";
            document.getElementById(""durum+"" + nickName + """").style.color = ""green"";
        }
    })

    connection.on(""receiveMessage"", (message, alici_nickname, gonderen_nickName, cevrimicimi) => {//burada mesaj gönderildiği zaman çevrimiçi ise mesajı alan kişiye mesajı anında sayfasında gösteriyoruz
        if (cevrimicimi.toString() == ""cevrimici"") { // kişi çevrim içi ise mesaj gönderiliyor
          ");
            WriteLiteral(@"  var limesaj = document.createElement('li');
            limesaj.className = ""list-group-item rounded m-2 mr-auto list-group-item-success""; // mesajı karşı taraf göreceği için sol tarafta gösteriyoruz
            limesaj.style.borderRadius = ""10px"";
            limesaj.style.boxShadow = ""0 0 0.5px 0.5px lightgreen"";
            limesaj.style.color = ""black"";
            limesaj.style.width = ""auto"";
            limesaj.style.maxWidth = ""75%"";
            limesaj.style.textAlign = ""left"";
            limesaj.innerHTML = message;
            var zaman = document.createElement(""small"");
            zaman.innerHTML = new Date().toLocaleTimeString().substring(0,5);
            zaman.className = ""d-flex justify-content-start pt-1"";
            limesaj.append(zaman);

            document.getElementById(""ul_mesaj_içerik"").append(limesaj); // mesajı sayfada göstermek için ekliyoruz
            $(""#ul_mesaj_içerik"").scrollTop(document.getElementById(""ul_mesaj_içerik"").scrollHeight); // son mesajların g");
            WriteLiteral(@"örünmesi için scroll u en aşağı çekiyoruz.
            document.getElementById(""mesajsayisi+"" + gonderen_nickName.toString() + """").innerHTML = """"; // burada alıcı çevrimiçi ise görüntülenmeyen mesajları 0 yapıyoruz.
        }
        else { // kişi çevrimiçi değilse görüntülenmeyen mesaj sayısını arttırıyoruz
            if (_nickname.toString() == alici_nickname.toString()) {
                if (document.getElementById(""mesajsayisi+"" + gonderen_nickName.toString() + """") != null) { // kullanıcı mesajları silmiş mi silmemiş mi kontrol ediyoruz.
                    if (document.getElementById(""mesajsayisi+"" + gonderen_nickName.toString() + """").innerHTML == """") {// görüntülenmeyen mesaj yoksa
                        document.getElementById(""mesajsayisi+"" + gonderen_nickName.toString() + """").innerHTML = ""1""; // alıcının görüntlenmeyen mesajı hiç yoksa 1 yapıyoruz
                    } else {// alıcı çevrimdışı ise görüntülenmeyen mesaj sayısını 1 arttırıyoruz
                        document.getElementBy");
            WriteLiteral(@"Id(""mesajsayisi+"" + gonderen_nickName.toString() + """").innerHTML = parseInt(document.getElementById(""mesajsayisi+"" + gonderen_nickName.toString() + """").innerHTML) + 1;
                    }
                } else {// mesajlar silinmiş ise
                    if (localStorage.getItem(""chat_acikmi"").toString() == ""evet"") { // mesajı alan kişi mesaj atan kişinin mesajlarını sildi ise, herhangi bir konuşma yapmıyor ise ve sildiği kişiden mesaj geldi ise sayfayı yeniletip gele mesajı sayfada gösteriyoruz
                        if (localStorage.getItem(""konusuyormu"").toString() == ""hayir"") {// konuşma yapmıyor ise
                            $(""#durummesajlari"").html(""1 Yeni Mesajınız Var."");
                            $(""#durummesajlari"").fadeIn(2000, () => { // kullanıcıya yeni mesaj geldi mesajı veriliyor ve sayfa yenileniyor
                                setTimeout(() => {
                                    $(""#durummesajlari"").fadeOut(1500);
                                }, 2000)
             ");
            WriteLiteral(@"                   window.location.reload(true);
                            });
                        } else {
                            localStorage.setItem(""mesajgeldimi"", ""evet"");
                            alert(""Yeni mesajınız Var. Mesajı kapattığınız da Sayfanız Yenilecenektir"");// konuşma yapıyor ise yeni mesaj geldiğini ve sayfasını yenilemesini istiyoruz
                        }
                    }
                }
            }
        }
    })

    connection.on(""db_message_create"", (message, alici_nickname, cevrimicimi) => {
        document.getElementById(""mesajsayisi+"" + alici_nickname.toString() + """").innerHTML = """"; // mesaj gönderen mesajı gördüğü için görüntülenmeyen mesaj sayısını sıfırlıyoruz
        if (cevrimicimi.toString() == ""cevrimici"") { // alıcı çevrimiçi ise görüntülenmeyen mesaj sayısını değiştirmiyoruz
            mesajgonder(localStorage.getItem(""kullaniciTipi""), alici_nickname, message, ""true"", ""evet""); //mesajı veritabanına eklemek için mesajgönder fo");
            WriteLiteral(@"nksiyonuna yoluyoruz
            document.getElementById(""mesaj_icerik"").value = """";
        } else { //alıcı çevrimdışı ise çevrimdışı olarak bilgi gönderip görüntülenmeyen mesaj sayısını 1 arttırıyoruz
            mesajgonder(localStorage.getItem(""kullaniciTipi""), alici_nickname, message, ""true"", ""hayir""); //mesajı veritabanına eklemek için mesajgönder fonksiyonuna yoluyoruz
            document.getElementById(""mesaj_icerik"").value = """";
        }
    })

    connection.on(""disconned"", (cikisyapan_nickname, cikisyapılan_nickname) => { //çıkış yapan ve çıkış yapılan kişinin bilgileri alınıyor
        if (_nickname.toString() == cikisyapılan_nickname.toString()) { //çıkış yapılan kişi Login ise işlemler yapılıyor
            document.getElementById(""durum+"" + cikisyapan_nickname + """").innerHTML = ""çevrimdışı""; // burada kullanıcı çıkış yaptığında çıkış yapılan kullanıcıda çevrimdışı olarak gösteriliyor
            document.getElementById(""durum+"" + cikisyapan_nickname + """").style.color = ""red"";
  ");
            WriteLiteral(@"      }
    })

    connection.on(""closed"", cikisturu => {// kullanıcının çıkış turune göre bilgileri güncelleniyor
        if (cikisturu.toString() == ""komple_cikis"") {
            localStorage.setItem(""chat_acikmi"", ""hayir""); // kullanıcı komple çıkış yaptı ve hayır yaptık
            localStorage.setItem(""konusuyormu"", ""hayir""); // kullanıcı komple çıkış yaptı ve hayır yaptık

        } else { //sadece mesajı kapattığında işlemler
            localStorage.setItem(""chat_acikmi"", ""evet""); // sayfa açıldığında evet yapıyoruz
            localStorage.setItem(""konusuyormu"", ""hayir""); // kullanıcı mesajı kapatttığında hayır yapıyoruz
            if (localStorage.getItem(""mesajgeldimi"") == ""evet"") { // burada kullanıcıya mesaj kutusunda olmayan birinden mesaj geldiği zaman konuşmaya devam ediyorsa konuşmayı kapattığında sayfayı yeniletip mesajı gösteriyoruz
                localStorage.setItem(""mesajgeldimi"", ""hayir"");
                window.location.reload(true);
            }
            // $(""#d");
            WriteLiteral(@"urummesajlari"").html(""Sayfa Yükleniyor"");
            //$(""#durummesajlari"").fadeIn(1000, () => { // burada sayfa mesaj gösterilip 2 saniye sonra mesaj yenileniyor
            //    setTimeout(() => {
            //        $(""#durummesajlari"").fadeOut(1000);
            //    }, 1000)
            //    //window.location.reload(true);
            //});
        }
    })

    $(""#mesajkapat"").click(function () {
        document.getElementById(""div_mesaj_icerigi"").style.display = ""none"";
        document.getElementById(""div_mesaj_alani"").style.display = ""block"";
        connection.invoke(""Disconned"", _nickname, document.getElementById(""btn_msj_gonder"").name); // burada kullanıcı mesajı kapattığında nickname ini ve kimin mesajını kapattığının bilgilerini gönderiyoruz ve çıkış yaptırıyoruz.
    });

    $(""#btn_msj_gonder"").click(function () {
        //aşağıdaki olayda mesajı gönderdiğimiz kişinin görmesi için invoke ile sendmessage metoduna mesajı ve mesajı gonderdiğimiz kişinin nickname ini gön");
            WriteLiteral(@"deriyoruz
        if (document.getElementById(""mesaj_icerik"").value != """") {
            connection.invoke(""SendMessageAsync"", document.getElementById(""mesaj_icerik"").value, document.getElementById(""btn_msj_gonder"").name, _nickname.toString());
            var limesaj = document.createElement('li'); // buradamesajı göstermek için bir li oluşturuyoruz
            limesaj.className = ""list-group-item rounded m-2 ml-auto list-group-item-light""; //mesaj gönderen olduğu için sağ tarafa doğru yaslıyoruz.
            limesaj.style.borderRadius = ""10px"";
            limesaj.style.boxShadow = ""0 0 0.5px 0.5px lightgreen"";
            limesaj.style.color = ""black"";
            limesaj.style.width = ""auto"";
            limesaj.style.maxWidth = ""75%"";
            limesaj.style.textAlign = ""left"";
            limesaj.innerHTML = document.getElementById(""mesaj_icerik"").value;
            var zaman = document.createElement(""small"");
            zaman.innerHTML = new Date().toLocaleTimeString().substring(0, 5);");
            WriteLiteral(@"
            zaman.className = ""d-flex justify-content-end pt-1"";
            limesaj.append(zaman);
            document.getElementById(""ul_mesaj_içerik"").append(limesaj); //mesajı sayfada gösteriyoruz
            $(""#ul_mesaj_içerik"").scrollTop(document.getElementById(""ul_mesaj_içerik"").scrollHeight); // burada scroll u en aşağı  çekiyoruz ki son mesajlardirek görünsün

        } else {
            alert(""Lütfen Mesajı Boş Bırakmayınız..."");
        }
    });
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IList<Tamirci_Bul.Models.Mesajlar>> Html { get; private set; }
    }
}
#pragma warning restore 1591
